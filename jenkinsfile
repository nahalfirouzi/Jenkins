pipeline {
    agent any
    stages {

        stage("Build") {
            steps {
                echo "Task: Compile and package the application. Tool: Maven."
            }
        }

        stage("Unit and Integration Tests") {
            steps {
                echo "Task: Run unit tests and component-level integration tests. Tools: JUnit (unit), REST Assured (integration)."
            }
        }

        stage("Code Analysis") {
            steps {
                echo "Task: Static code analysis to ensure code quality and standards compliance. Tool: SonarQube Scanner for Jenkins."
            }
        }

        stage("Security Scan") {
            steps {
                echo "Task: Scan source and dependencies for known vulnerabilities. Tool: OWASP Dependency-Check."
            }
        }

        stage("Deploy to Staging") {
            steps {
                echo "Task: Deploy the build artifact to a staging AWS EC2 instance. Tool: AWS CLI."
            }
        }

        stage("Integration Tests on Staging") {
            steps {
                echo "Task: Execute end-to-end/integration test suite against the staging environment. Tool: Newman (Postman CLI)."
            }
        }

        stage("Deploy to Production") {
            steps {
                echo "Task: Deploy the approved artifact to the production AWS EC2 environment. Tool: AWS CodeDeploy."
            }
        }
    }
}
